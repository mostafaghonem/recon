exports.ids=[35],exports.modules={266:function(e,t,n){var content=n(280);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var r=n(5).default;e.exports.__inject__=function(e){r("f7e6f252",content,!0,e)}},267:function(e,t,n){var content=n(282);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var r=n(5).default;e.exports.__inject__=function(e){r("e6ed15ac",content,!0,e)}},270:function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=o.a.extend({name:"v-card-title",functional:!0,props:{primaryTitle:Boolean},render:function(e,t){var data=t.data,n=t.props,r=t.children;return data.staticClass=("v-card__title "+(data.staticClass||"")).trim(),n.primaryTitle&&(data.staticClass+=" v-card__title--primary"),e("div",data,r)}})},271:function(e,t,n){"use strict";var r={props:{fullWidth:{type:Boolean,default:!1},offset:{type:[Number,String],default:0}},computed:{classes(){return{"v-offset--full-width":this.fullWidth}},styles(){return{top:`-${this.offset}px`,marginBottom:`-${this.offset}px`}}}},o=n(10);var l={inheritAttrs:!1,components:{helperOffset:Object(o.a)(r,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"v-offset",class:this.classes,style:this.styles},[this._t("default")],2)},[],!1,function(e){var t=n(279);t.__inject__&&t.__inject__(e)},null,"2cf0020d").exports},props:{color:{type:String,default:"secondary"},elevation:{type:[Number,String],default:10},inline:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},offset:{type:[Number,String],default:24},title:{type:String,default:void 0},text:{type:String,default:void 0},headerAction:{type:String,default:void 0}},methods:{close(){this.$emit("close")}},computed:{hasOffset(){return this.$slots.header||this.$slots.offset||this.title||this.text},styles(){return this.hasOffset?{marginBottom:`${this.offset}px`,marginTop:`${2*this.offset}px`}:null}}},c=n(12),d=n.n(c),f=n(250),y=n(311),m=n(251),v=n(73);var h=Object(o.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",e._g(e._b({style:e.styles},"v-card",e.$attrs,!1),e.$listeners),[e.hasOffset?n("helper-offset",{attrs:{inline:e.inline,"full-width":e.fullWidth,offset:e.offset}},[e.$slots.offset?e._t("offset"):n("v-card",{staticClass:"v-card--material__header",class:"elevation-"+e.elevation,attrs:{color:e.color,dark:""}},[e.headerAction&&"close"===e.headerAction?n("v-icon",{staticClass:"mr-2 close",attrs:{small:""},on:{click:e.close}},[e._v("\n        mdi-close\n      ")]):e._e(),e._v(" "),e.title||e.text?n("span",[n("h4",{staticClass:"title font-weight-light mb-2",domProps:{textContent:e._s(e.title)}}),e._v(" "),n("p",{staticClass:"category font-weight-thin",domProps:{textContent:e._s(e.text)}})]):e._t("header")],2)],2):e._e(),e._v(" "),n("v-card-text",[e._t("default")],2),e._v(" "),e.$slots.actions?n("v-divider",{staticClass:"mx-3"}):e._e(),e._v(" "),e.$slots.actions?n("v-card-actions",[e._t("actions")],2):e._e()],1)},[],!1,function(e){var t=n(281);t.__inject__&&t.__inject__(e)},null,"70552ac3");t.a=h.exports;d()(h,{VCard:f.a,VCardActions:y.a,VCardText:y.b,VDivider:m.a,VIcon:v.a})},272:function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"b",function(){return A}),n.d(t,"p",function(){return U}),n.d(t,"e",function(){return Y}),n.d(t,"c",function(){return x}),n.d(t,"n",function(){return T}),n.d(t,"j",function(){return O}),n.d(t,"k",function(){return k}),n.d(t,"m",function(){return N}),n.d(t,"h",function(){return M}),n.d(t,"f",function(){return L}),n.d(t,"g",function(){return w}),n.d(t,"l",function(){return V}),n.d(t,"i",function(){return j}),n.d(t,"o",function(){return $}),n.d(t,"d",function(){return B});var r=n(254),o=n.n(r),l=n(17),c=n.n(l),d=n(249),f=n.n(d),y=n(14);const m=[{UIKey:"RECRUITMENT_LEVELS",DataKey:"recruitmentLevel"},{UIKey:"FORCES_LIST",DataKey:"force"},{UIKey:"ARMY_LIST",DataKey:"army"},{UIKey:"EDUCATION_RANKS",DataKey:"educationRank"},{UIKey:"SITUATIONS",DataKey:"situation"},{UIKey:"TREATMENTS",DataKey:"treatment"},{UIKey:"DIRECTIONS",DataKey:"direction"},{UIKey:"MAILTYPES",DataKey:"mailType"},{UIKey:"COURSETYPES",DataKey:"courseType"},{UIKey:"COLLEGES",DataKey:"courseCollege"},{UIKey:"COUNTRIES",DataKey:"country"},{UIKey:"TRAVELTYPES",DataKey:"travelType"},{UIKey:"GRADUATION_LEVELS",DataKey:"graduationLevel"},{UIKey:"DEGREES",DataKey:"degree"},{UIKey:"RANKS",DataKey:"higherRank"},{UIKey:"RANKS",DataKey:"lowerRank"},{UIKey:"INFLUENCES_TYPES",DataKey:"type"},{UIKey:"PUNISHMENTS",DataKey:"title"},{UIKey:"ORDERMAKERS",DataKey:"orderMaker"},{UIKey:"CRIMEMAJORLAWS",DataKey:"crimeMajorLaw"},{UIKey:"PERIOD_TYPES",DataKey:"periodType"},{UIKey:"DISHONORED",DataKey:"dishonored"},{UIKey:"COURTS",DataKey:"sentenceCourt"},{UIKey:"ANSWER_DIRECTIONS",DataKey:"answerDirection"},{UIKey:"JOINPLACES",DataKey:"joinPlace"},{UIKey:"CLEARANCE_STATUSES",DataKey:"clearanceStatus"},{UIKey:"SOLDIER_STATUSES",DataKey:"soldierStatus"}],v=[{UIKey:"STAFF_CATEGORIES",DataKey:"category"},{UIKey:"STAFF_RANKS",DataKey:"rank"},{UIKey:"MEDICAL_SITUATIONS",DataKey:"medicalSituation"},{UIKey:"MEDICAL_CARDS",DataKey:"medicalCard"},{UIKey:"FORCES_LIST",DataKey:"force"},{UIKey:"ARMY_LIST",DataKey:"army"}],h=[{UIKey:"RECOMMENDATION_TYPES",DataKey:"type"}],D=["date","abscenseDate","removalDate","noticeDate","noticeArrivalDate","comebackDate","orderDate","travelDate","confirmationDate","from","to","startDate","answerDate","crimeDate","firstLicenseDate","secondLicenseDate","lastCommissionDate","departureDate","joinDate"],K=[{UIKey:"governates",SpecialKey:"governate",DataKey:"address.governate"},{UIKey:"recruitmentAreas",DataKey:"recruitmentArea"}],I=[{DataKey:"adminNo"},{DataKey:"seq"},{DataKey:"number"},{DataKey:"militaryId"},{DataKey:"nationalId"},{DataKey:"recordId"},{DataKey:"tripleNumber.value"},{DataKey:"division.name"},{DataKey:"joinDate"},{DataKey:"departureDate"},{DataKey:"birthDate"},{DataKey:"releaseDate"},{DataKey:"unit.unitId.name"},{DataKey:"division.divisionId.name"}],_=[{UIKey:"RANKS",DataKey:"rank"},{UIKey:"BRANCHES",DataKey:"branch"}],S=[{UIKey:"FORCES_LIST",DataKey:"force"},{UIKey:"ARMY_LIST",DataKey:"army"},{UIKey:"UNIT_TYPES",DataKey:"type"}],E=o.a.mixin({icon:"warning",customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}}),A=o.a.mixin({toast:!0,position:"top-start"}),U=e=>{const t=[/0/g,/1/g,/2/g,/3/g,/4/g,/5/g,/6/g,/7/g,/8/g,/9/g],n=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];if("string"==typeof e)for(var i=0;i<10;i++)e=e.replace(t[i],n[i]);return e},Y=(p,e)=>{const t=p.reduce((e,t)=>e&&e[t]?e[t]:null,e);return t&&"object"==typeof t&&t.length?t.map(e=>e.ar).join(","):t&&"object"==typeof t&&t.ar?t.ar:t&&"object"==typeof t&&!t.length?"":t},R=(e,t,n)=>{return c.a.set(e,t,n)},x=(e,t)=>{let n=t;return(e=>/\d/.test(e))(t)&&(n=U(t)),null!=e&&null!=n&&"string"==typeof e&&-1!==e.toString().indexOf(n)},T=function(){if(!this.joinDate)return;const e=c.a.cloneDeep(this.defaults.EDUCATION_RANKS),t=c.a.cloneDeep(this.defaults.RECRUITMENT_LEVELS),n=c.a.cloneDeep(this.defaults.EDUCATION_RANKS_KEYS),r=c.a.cloneDeep(this.defaults.TREATMENTS_KEYS);e.splice(1,1);const o=f()(this.joinDate,"YYYY-MM-DD").year();let l,d=3*t.findIndex(e=>e.value===this.recruitmentLevel)-1+3;console.log("treamtn",this.treatment,r.WITH_EXTRA_YEAR_NOT_APPLICABLE_FOR_REMOVAL),this.treatment===r.WITH_EXTRA_YEAR_NOT_APPLICABLE_FOR_REMOVAL&&(d+=2),this.educationRank===n.ABOVE_AVERAGE?(l=1,d+=6):l=e.findIndex(e=>e.value===this.educationRank)+1,console.log("forumula",d);const y=o+l;return f()(this.joinDate).year(y).month(d).hour(0).minute(0).startOf("month").add("1","day").format("YYYY-MM-DD")},C=(e,{defaults:t})=>{_.map(n=>{if(e[n.DataKey]){console.log("value",e[n.DataKey],"the object",n);const r=t[n.UIKey].find(t=>t.value===e[n.DataKey]);r&&(e[n.DataKey]=r.ar)}});const n=t.PERMISSIONS.find(t=>t.value===e.permissions[0]);return e.permissions=n?n.ar:e.permissions,e.clearance&&e.clearance.clearanceId&&(e.clearance=((e,{locations:t,defaults:n})=>{m.map(t=>{if(e[t.DataKey]){const r=n[t.UIKey].find(n=>n.value===e[t.DataKey]||n._id===e[t.DataKey]);r&&(e[t.DataKey]=r.ar)}}),K.map(n=>{if(e[n.SpecialKey]){const r=t[n.UIKey].find(t=>t.value===e[n.SpecialKey]);r.value&&(e[n.SpecialKey]=r.ar)}}),D.map(t=>{e[t]&&(e[t]=f()(e[t]).locale("ar").format("YYYY/MM/DD"))})})(e.clearance.clearanceId,{locations:locations,defaults:t})),e},O=(data,{locations:e,defaults:t})=>data.map(n=>((e,{locations:t,defaults:n})=>(m.map(t=>{if(e[t.DataKey]){const r=n[t.UIKey].find(n=>n.value===e[t.DataKey]);r&&(e[t.DataKey]=r.ar)}}),K.map(n=>{const r=n.DataKey.split(".");if(e[r[0]]){const o=t[n.UIKey].find(t=>t.value===Y(r,e));o&&("governate"===e[r[0]][1]?e.address.governate=o.ar:(e[n.DataKey]=o.ar,R(e,r,o.ar)))}}),e.birthDate=f()(e.birthDate).locale("ar").format("YYYY/MM/DD"),e.joinDate=f()(e.joinDate).locale("ar").format("YYYY/MM/DD"),e.releaseDate=f()(e.releaseDate).subtract(1,"day").locale("ar").format("YYYY/MM/DD"),I.map(t=>{const n=Y(t.DataKey.split("."),e);if(n){const r=U(n.toString());R(e,`${t.DataKey}_ar`.split("."),r)}}),e.tn=e.tripleNumber.value,e.un=e.unit&&e.unit.unitId?e.unit.unitId.name:"",e.cn=e.address.centre,e.vl=e.address.village,e.gov=e.address.governate,e))(n,{locations:e,defaults:t})),k=(data,{locations:e,defaults:t})=>data.map(n=>((e,{locations:t,defaults:n})=>(v.map(t=>{if(e[t.DataKey]){const r=n[t.UIKey].find(n=>n.value===e[t.DataKey]);r&&(e[t.DataKey]=r.ar)}}),K.map(n=>{const r=n.DataKey.split(".");if(e[r[0]]){const o=t[n.UIKey].find(t=>t.value===Y(r,e));o&&("governate"===e[r[0]][1]?e.address.governate=o.ar:(e[n.DataKey]=o.ar,R(e,r,o.ar)))}}),e.birthDate=f()(e.birthDate).locale("ar").format("YYYY/MM/DD"),e.joinDate=f()(e.joinDate).locale("ar").format("YYYY/MM/DD"),e.rankingDate=f()(e.rankingDate).subtract(1,"day").locale("ar").format("YYYY/MM/DD"),e.un=e.unit&&e.unit.unitId?e.unit.unitId.name:"",e.cn=e.address.centre,e.vl=e.address.village,e.gov=e.address.governate,e))(n,{locations:e,defaults:t})),N=(data,{defaults:e})=>data.map(t=>C(t,{defaults:e})),M=(data,{defaults:e})=>data.map(t=>((e,{defaults:t})=>{m.map(n=>{if(e[n.DataKey]){const data=t[n.UIKey],r=data?data.find(t=>t.value===e[n.DataKey]):void 0;r&&(e[n.DataKey]=r.ar)}}),I.map(t=>{const n=Y(t.DataKey.split("."),e);if(n){const r=U(n.toString());R(e,`${t.DataKey}_ar`.split("."),r)}}),e.date=f()(e.date).locale("ar").format("YYYY/MM/DD"),e.createdAtDate=f()(e.createdAt).locale("ar").format("YYYY/MM/DD hh:mm a");const n=t.BRANCHES.filter(t=>e.branches.find(e=>t.value===e)),r=t.BRANCHES.find(t=>t.value===e.branch);return e.branches=n,e.branch=r,e.attachments=e.attachments.map(e=>(e.link=`${y.b}${e.path}`,e)),e})(t,{defaults:e})),L=(data,{defaults:e})=>{const t=data.map(t=>((e,{defaults:t})=>{const n={};return e.soldierId?(n.soldierId=e.soldierId.militaryId,n.fullName=e.soldierId.fullName):e.staffId&&(n.soldierId=e.staffId.militaryId,n.fullName=e.staffId.fullName),e.pastUnit&&(n.pastUnit=e.pastUnit.unitId.name),e.unitId&&(n.unitName=e.unitId.name),e.userId&&(n.username=e.userId.username),n.timestamp=f()(e.createdAt).format("x"),n.createdAt=f()(e.createdAt).locale("ar").format("YYYY/MM/DD hh:mm a"),n})(t,{defaults:e}));return c.a.orderBy(t,["unitName"],["asc"])},w=(data,{locations:e,defaults:t})=>{const n=JSON.parse(JSON.stringify(data)).map(n=>((e,{locations:t,defaults:n})=>(m.map(t=>{if(e[t.DataKey]){const r=n[t.UIKey].find(n=>n.value===e[t.DataKey]||n._id===e[t.DataKey]);r&&(e[t.DataKey]=r.ar)}}),K.map(n=>{if(e[n.SpecialKey]){const r=t[n.UIKey].find(t=>t.value===e[n.SpecialKey]);r.value&&(e[n.SpecialKey]=r.ar)}}),D.map(t=>{e[t]&&(e[t]=f()(e[t]).locale("ar").format("YYYY/MM/DD"))}),e))(n,{locations:e,defaults:t}));return c.a.orderBy(n,["createdAt"],["desc"])},V=(data,{defaults:e})=>data.map(t=>((e,{defaults:t})=>{if(S.map(n=>{if(e[n.DataKey]){const data=t[n.UIKey],r=data?data.find(t=>t.value===e[n.DataKey]):void 0;r&&(e[n.DataKey]=r.ar)}}),I.map(t=>{const n=Y(t.DataKey.split("."),e);if(n){const r=U(n.toString());R(e,`${t.DataKey}_ar`.split("."),r)}}),"recon"===e.force){const n=t.FORCES_LIST.find(e=>"86"===e.value);e.force=n?n.ar:"الاستطلاع"}return e})(t,{defaults:e})),j=(data,{defaults:e,locations:t})=>data.map(n=>((e,{defaults:t,locations:n})=>(console.log("processing recommendation",n),h.map(n=>{if(e[n.DataKey]){const data=t[n.UIKey],r=data?data.find(t=>t.value===e[n.DataKey]):void 0;r&&(e[n.DataKey]=r.ar)}}),K.map(t=>{if(e[t.DataKey]){const r=n[t.UIKey].find(n=>n.value===e[t.DataKey]);r.value&&(e[t.DataKey]=r.ar)}}),I.map(t=>{const n=Y(t.DataKey.split("."),e);if(n){const r=U(n.toString());R(e,`${t.DataKey}_ar`.split("."),r)}}),e.createdAt=f()(e.createdAt).locale("ar").format("YYYY/MM/DD"),e.updatedAt=f()(e.updatedAt).locale("ar").format("YYYY/MM/DD"),e))(n,{defaults:e,locations:t})),$=function(e){!this.selectAll&&e&&e.length&&e.includes("select_all")?(this.selectAll=!0,this.fieldsValue=this.fieldsItems.map(e=>e.value)):this.selectAll&&e&&e.length&&!e.includes("select_all")?(this.selectAll=!1,this.fieldsValue=[]):this.selectAll&&this.fieldsValue.length!==this.fieldsItems.length&&(this.fieldsValue.splice(this.fieldsValue.indexOf("select_all"),1),this.selectAll=!1)},B=function(e,t,n){return e.filter(e=>{if(n&&e.category!==n)return!1;if("comeback"===e.value){const{available:e,flee:t}=(({indiviual:e})=>{let t={};const n=e.influences.filter(e=>e.influenceId&&["flee","comeback"].includes(e.influenceId.type)),r=n[n.length-1];if(n.length&&"flee"==r.influenceId.type)return t=r.influenceId.flee,["noticeDate","noticeArrivalDate","abscenseDate","removalDate"].map(e=>{t[e]=f()(t[e]).format("YYYY-MM-DD")}),{available:!0,flee:t};return{available:!1}})({indiviual:this.indiviualData});return this.flee=t,e}if("flee"===e.value){const{available:e}=(({indiviual:e})=>{const t=e.influences.filter(e=>e.influenceId&&["flee","comeback"].includes(e.influenceId.type)),n=t[t.length-1];return t.length?t.length&&"comeback"==n.influenceId.type?{available:!0}:{available:!1}:{available:!0}})({indiviual:this.indiviualData});return e}if("driversLicense"===e.value){const{available:e}=(({indiviual:e})=>{return{available:["66"].includes(e.force)&&["normal","average"].includes(e.educationRank)}})({indiviual:this.indiviualData});return e}if("literacy"===e.value){const{available:e}=(({indiviual:e})=>{return{available:["normal"].includes(e.educationRank)}})({indiviual:this.indiviualData});return e}if("execution"===e.value){const{available:e,executionData:n}=(({indiviual:e,ranks:t})=>{if(!["seargent","corporal"].includes(e.rank))return{available:!1,executionData:{}};if(!t||t&&!t.length)return{available:!1,executionData:{}};const n=t.findIndex(t=>e.rank===t.value);return{available:!0,executionData:{lowerRank:t[n-1].value,higherRank:e.rank}}})({indiviual:this.indiviualData,ranks:t});return this.executionData=n,e}if("demotion"===e.value){const{available:e,demotionData:n}=(({indiviual:e,ranks:t})=>{if(["soldier"].includes(e.rank))return{available:!1,demotionData:{}};if(!t||t&&!t.length)return{available:!1,demotionData:{}};const n=t.findIndex(t=>e.rank===t.value);return{available:!0,demotionData:{lowerRank:t[n-1].value,higherRank:e.rank}}})({indiviual:this.indiviualData,ranks:t});return this.demotionData=n,e}if("promotion"===e.value){const{available:e,promotionData:n}=(({indiviual:e,ranks:t})=>{if(!t||t&&!t.length)return{available:!0,promotion:{}};const n=t.findIndex(t=>e.rank===t.value);return{available:!0,promotionData:{lowerRank:e.rank,higherRank:t[n+1].value}}})({indiviual:this.indiviualData,ranks:t});return this.promotionData=n,e}return!0})}},279:function(e,t,n){"use strict";n.r(t);var r=n(266),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,function(){return r[e]})}(l);t.default=o.a},280:function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".v-offset{margin:0 auto;position:relative}.v-offset--full-width{max-width:100%}.add-button{margin-right:39%;margin-left:50%;width:130px;height:30px;border-radius:25px!important}",""])},281:function(e,t,n){"use strict";n.r(t);var r=n(267),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,function(){return r[e]})}(l);t.default=o.a},282:function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".v-card--material__header.v-card{border-radius:4px}",""])},292:function(e,t,n){var content=n(293);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals),n(5).default("08d4b84c",content,!0)},293:function(e,t,n){(e.exports=n(4)(!1)).push([e.i,".v-form>.container{padding:16px}.v-form>.container>.layout>.flex{padding:8px}.v-form>.container>.layout:only-child{margin:-8px}.v-form>.container>.layout:not(:only-child){margin:auto -8px}",""])},311:function(e,t,n){"use strict";var r=n(1),o=n(250),l=n(253),c=n(8),d=l.a.extend({name:"v-card-media",mounted:function(){Object(c.d)("v-card-media",this.src?"v-img":"v-responsive",this)}}),f=n(270);n.d(t,"a",function(){return y}),n.d(t,"b",function(){return m});var y=Object(r.f)("v-card__actions"),m=Object(r.f)("v-card__text");o.a,f.a},317:function(e,t,n){"use strict";n(292);var r=n(16);t.a={name:"v-form",mixins:[Object(r.b)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var e=Object.values(this.errorBag).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var e=this,t=function(input){return input.$watch("hasError",function(t){e.$set(e.errorBag,input._uid,t)},{immediate:!0})},n={_uid:input._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?n.shouldValidate=input.$watch("shouldValidate",function(r){r&&(e.errorBag.hasOwnProperty(input._uid)||(n.valid=t(input)))}):n.valid=t(input),n},validate:function(){return!this.inputs.filter(function(input){return!input.validate(!0)}).length},reset:function(){for(var e=this,i=this.inputs.length;i--;)this.inputs[i].reset();this.lazyValidation&&setTimeout(function(){e.errorBag={}},0)},resetValidation:function(){for(var e=this,i=this.inputs.length;i--;)this.inputs[i].resetValidation();this.lazyValidation&&setTimeout(function(){e.errorBag={}},0)},register:function(input){var e=this.watchInput(input);this.inputs.push(input),this.watchers.push(e)},unregister:function(input){var e=this.inputs.find(function(i){return i._uid===input._uid});if(e){var t=this.watchers.find(function(i){return i._uid===e._uid});t.valid&&t.valid(),t.shouldValidate&&t.shouldValidate(),this.watchers=this.watchers.filter(function(i){return i._uid!==e._uid}),this.inputs=this.inputs.filter(function(i){return i._uid!==e._uid}),this.$delete(this.errorBag,e._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}},387:function(e,t,n){"use strict";n.r(t);var r=n(11),o=n(14),l=n(272),c={components:{materialCard:n(271).a},mounted(){window.addEventListener("keypress",this.doCommand)},destroyed(){window.removeEventListener("keypress",this.doCommand)},data:()=>({isLoading:!1,username:void 0,password:void 0,defaultUserPassword:void 0}),computed:{isDisabled(){return this.isLoading}},middleware:["auth","isLoggedIn"],methods:{...Object(r.mapActions)({setUser:"localStorage/setUser"}),doCommand(e){if(13===e.keyCode)return this.authenticate()},async authenticate(){if(!this.isDisabled){this.isLoading=!0;const e=await this.login();this.isLoading=!1,e.error?(console.log("the error",e.error),l.b.fire({icon:"error",title:e.error,timer:3e3,showConfirmButton:!1})):(localStorage.setItem("reconToken",e.token),localStorage.setItem("user",JSON.stringify(e)),await this.setUser(e),this.$router.push({path:"/dashboard"}))}},async login(){return await Object(o.e)("/users/login",{username:this.username,password:this.password})}}},d=n(10),f=n(12),y=n.n(f),m=n(72),v=n(311),h=n(64),D=n(67),K=n(65),I=n(317),_=n(66),S=n(265),component=Object(d.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-content",{attrs:{dir:"auto"}},[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("material-card",{attrs:{color:"success",elevation:"12",title:e.$t("RECON_LOGIN"),dark:""}},[n("v-form",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.authenticate(t)}}},[n("v-card-text",[n("v-text-field",{attrs:{type:"text","prepend-icon":"person",name:"username",label:e.$t("USERNAME"),placeholder:e.username},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),n("v-text-field",{attrs:{type:"password","prepend-icon":"lock",name:"password",label:e.$t("PASSWORD"),placeholder:e.defaultUserPassword},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),n("v-card-actions",[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-btn",{attrs:{color:"success",disabled:e.isDisabled},on:{click:function(t){return t.preventDefault(),e.authenticate(t)}}},[e._v(e._s(e.$t("LOGIN")))])],1)],1)],1)],1)],1)],1)],1)],1)},[],!1,null,null,"40abb0dc");t.default=component.exports;y()(component,{VBtn:m.a,VCardActions:v.a,VCardText:v.b,VContainer:h.a,VContent:D.a,VFlex:K.a,VForm:I.a,VLayout:_.a,VTextField:S.a})}};
//# sourceMappingURL=f51fa58fd8e794812a03.js.map